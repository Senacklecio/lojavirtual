<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">
<h:head>
	<title>Login</title>
</h:head>
<h:body>
	<!-- Menu -->
	<h:panelGrid columns="1" cellpadding="0" style="float:justify;"
		borde="1">
		<h:form id="form">
			<div>

				<div>

					<p:menubar style="float:justify;">
						<p:menuitem value="Home  |"
							url="#{resquest.contextPath}/publico/index.xhtml" />

						<p:menuitem value="Área do Administrador"
							url="#{resquest.contextPath}/admin/principal.xhtml" />
					</p:menubar>
				</div>

				<h:panelGrid columns="1" style="float:justify;" />
				<h:panelGrid>
					<h:panelGrid columns="17" cellpadding="0" style="float:justify;"
						border="0">
						<h:graphicImage value="#{resource['/imagens/logo.png']}"
							height="100" width="300" />
						<p:inputText id="name" />

						<p:commandButton value="Pesquisar" update="display"
							icon="ui-icon-check" />
						<h:outputText id="display" value="#{basicView.text}" />

						<p:link outcome="/cliente/principal.xhtml"
							value="Olá, Faça seu login">
							<f:param name="acesso" value="3" />
						</p:link>
				| 
				<p:link outcome="/publico/form_pessoa.xhtml" value="Cadastre-se">
							<f:param name="Cadastro" value="2" />
						</p:link>
				| 
				<h:graphicImage value="#{resource['/imagens/carrinho.png']}"
							height="30" width="30" />
						<p:link outcome="/publico/carrinho.xhtml" value="Carrinho">
							<f:param name="carrinho" value="1" />
						</p:link>
					</h:panelGrid>
				</h:panelGrid>
					</div>
				
					</h:form>
				
				<!-- Inicio do codigo -->

	<div align="center">

		<h:panelGroup rendered="#{!empty param.login_error}">
		Erro ao efetuar o login.<br />
		Motivo: e-mail ou Password incorreto
		
		<!--   #{SPRING_SECURITY_EXCEPTION.message}-->


		</h:panelGroup>

		<form id="login" method="post"
			action="#{request.contextPath}/j_spring_security_check"
			align="center">
			<table>
				<tr>
					<td>Login</td>
					<td><input type='text' name='j_username' /></td>
				</tr>
				<tr>
					<td>Senha</td>
					<td><input type='password' name='j_password' /></td>
				</tr>
				<tr>
					<td align="right"><input type="checkbox"
						name="_spring_security_remember_me" /></td>
					<td>Logar automaticamente</td>
				</tr>
				<tr>
					<td></td>
					<td><input type="submit" value="Logar" /></td>
				</tr>
			</table>
			<script>
				document.getElementById("login").j_username.value = "#{SPRING_SECURITY_LAST_USERNAME}";
			</script>
		</form>
	</div>
	

	</h:panelGrid>
</h:body>
</html>
